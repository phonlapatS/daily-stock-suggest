# Backtest ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà (TP 3.5x, Trailing 2.0%)

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2026-02-13

---

## üìã ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Backtest ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®

### 1. üá∫üá∏ US STOCK
```bash
python scripts/backtest.py --group US_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 7
```

**‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:**
- TP: 5.0x ‚Üí 3.5x ATR
- Trailing Activate: 1.5% ‚Üí 2.0%
- Max Hold: 5 ‚Üí 7 days

---

### 2. üá®üá≥ CHINA/HK STOCK
```bash
python scripts/backtest.py --group CHINA_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 8
```

**‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:**
- TP: 5.0x ‚Üí 3.5x ATR
- Trailing Activate: 1.0% ‚Üí 2.0%
- Max Hold: 3 ‚Üí 8 days

---

### 3. üáπüáº TAIWAN STOCK
```bash
python scripts/backtest.py --group TAIWAN_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 10
```

**‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:**
- TP: 6.5x ‚Üí 3.5x ATR
- Trailing Activate: 1.0% ‚Üí 2.0%
- Max Hold: 10 days (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)

---

### 4. üáπüá≠ THAI STOCK
```bash
python scripts/backtest.py --group THAI_STOCK
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ (‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°)

---

## üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö: ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ (Settings)

| Market | TP (Before) | TP (After) | Trail Act (Before) | Trail Act (After) | Max Hold (Before) | Max Hold (After) |
|--------|-------------|------------|-------------------|-------------------|-------------------|------------------|
| **US** | 5.0x ATR | 3.5x ATR | 1.5% | 2.0% | 5 days | 7 days |
| **CHINA** | 5.0x ATR | 3.5x ATR | 1.0% | 2.0% | 3 days | 8 days |
| **TAIWAN** | 6.5x ATR | 3.5x ATR | 1.0% | 2.0% | 10 days | 10 days |
| **THAI** | 3.5% (Fixed) | 3.5% (Fixed) | 1.5% | 1.5% | 5 days | 5 days |

---

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Results) - ‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö

| Market | Total Trades | TP Exits | TP % | Trailing % | SL % | RRR Actual | RRR Theoretical | RRR Ratio |
|--------|--------------|----------|------|------------|------|------------|-----------------|-----------|
| **US** | 2,510 | 1 | 0.0% | 72.0% | 24.9% | 1.10 | 5.00 | 22.0% |
| **CHINA** | 2,510 | 1 | 0.0% | 72.0% | 24.9% | 1.10 | 5.00 | 22.0% |
| **TAIWAN** | 11,098 | 16 | 0.1% | 65.3% | 34.4% | 1.06 | 6.50 | 16.3% |
| **THAI** | 12,379 | 57 | 0.5% | 57.1% | 40.6% | 1.06 | 2.33 | 45.4% |

---

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Results) - ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö

**‚ö†Ô∏è  ‡∏ï‡πâ‡∏≠‡∏á backtest ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏£‡∏¥‡∏á**

| Market | TP Exits | Trailing % | SL % | RRR Actual | RRR Ratio |
|--------|----------|------------|------|------------|-----------|
| **US** | TBD | TBD | TBD | TBD | TBD |
| **CHINA** | TBD | TBD | TBD | TBD | TBD |
| **TAIWAN** | TBD | TBD | TBD | TBD | TBD |
| **THAI** | 0.5% | 57.1% | 40.6% | 1.06 | 45.4% |

---

## üéØ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### 1. TP Exits ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- **‡∏Å‡πà‡∏≠‡∏ô:** 0.0-0.5%
- **‡∏´‡∏•‡∏±‡∏á:** 5-15% (‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á)
- **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** TP ‡∏ï‡πà‡∏≥‡∏•‡∏á (3.5x ‡πÅ‡∏ó‡∏ô 5.0-6.5x) ‚Üí ‡∏ñ‡∏∂‡∏á TP ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô

### 2. RRR Actual ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- **‡∏Å‡πà‡∏≠‡∏ô:** 16-31% ‡∏Ç‡∏≠‡∏á Theoretical
- **‡∏´‡∏•‡∏±‡∏á:** 50-70% ‡∏Ç‡∏≠‡∏á Theoretical (‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á)
- **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** TP ‡∏ï‡πà‡∏≥‡∏•‡∏á + Trailing activate ‡∏ä‡πâ‡∏≤‡∏•‡∏á ‚Üí RRR Actual ‡πÉ‡∏Å‡∏•‡πâ Theoretical ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

### 3. Trailing Stop ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å
- **‡∏Å‡πà‡∏≠‡∏ô:** 57-72%
- **‡∏´‡∏•‡∏±‡∏á:** 50-60% (‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á - ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
- **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** Trailing activate ‡∏ä‡πâ‡∏≤‡∏•‡∏á (2.0% ‡πÅ‡∏ó‡∏ô 1.0-1.5%) ‚Üí ‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á TP ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

---

## üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### Step 1: Backtest ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà
```bash
# Backtest ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® (‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)
python scripts/backtest.py --group US_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 7
python scripts/backtest.py --group CHINA_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 8
python scripts/backtest.py --group TAIWAN_STOCK --atr_tp_mult 3.5 --trail_activate 2.0 --max_hold 10
```

### Step 2: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
```bash
python scripts/compare_before_after_tp_adjustment.py
```

### Step 3: ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
```bash
python scripts/create_comparison_table_final.py
```

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

1. **‡∏Å‡∏≤‡∏£ backtest ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô** (10-30 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)
2. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• "After" ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô "TBD"** ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ backtest ‡πÉ‡∏´‡∏°‡πà
3. **‡∏´‡∏•‡∏±‡∏á backtest ‡πÄ‡∏™‡∏£‡πá‡∏à** ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô `compare_before_after_tp_adjustment.py` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

---

**Version:** V4.1  
**Last Updated:** 2026-02-13

