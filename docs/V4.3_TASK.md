# Pattern Logic Refactor (Prompt Compliance)

## Fixes
- [x] Fix 1: `extract_pattern()` — break on neutral instead of skip
- [x] Fix 2: `get_pattern_stats()` — proper sliding window with streak detection
- [x] Fix 3: Engine `select_best_fit()` — comments + logic consistent with Mode A/B
- [x] Verify: Run `main.py` — PASS
- [x] Implement Intraday Body Logic (`(Close-Open)/Open`) across Core Engines & Stats
- [x] Refine Performance Report (Hide PF Ratio, Net P/L)
- [x] Verify: Run `calculate_performance.py` — PASS
