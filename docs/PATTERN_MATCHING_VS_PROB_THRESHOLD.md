# üîç Pattern Matching vs Prob Threshold

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2026-02-13  
**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Pattern Matching Threshold ‡πÅ‡∏•‡∏∞ Prob Threshold

---

## üìä ‡∏™‡∏≠‡∏á Threshold ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô

### **1. Pattern Matching Threshold** (‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö Pattern)

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö pattern ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô +1%, -2%)

**Logic:**
```python
# ‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô > threshold ‚Üí '+'
# ‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô < -threshold ‚Üí '-'
# ‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á threshold ‚Üí None (‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö)

if pct_change > threshold:
    pattern = '+'
elif pct_change < -threshold:
    pattern = '-'
else:
    pattern = None  # Sideway - ‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- Threshold = 0.5% (0.005)
- ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô +1.2% ‚Üí Pattern = '+'
- ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô -0.8% ‚Üí Pattern = '-'
- ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô +0.3% ‚Üí Pattern = None (‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö)

**‡∏Ñ‡πà‡∏≤ Threshold ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®:**
- THAI: 0.7% floor, 1.0x multiplier
- US: 0.6% floor, 0.9x multiplier
- Taiwan: 0.5% floor, 0.9x multiplier
- China/HK: 0.5% floor, 0.9x multiplier

---

### **2. Prob Threshold** (‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏á pattern ‡∏ó‡∏µ‡πà‡∏°‡∏µ Prob% ‡∏™‡∏π‡∏á‡∏û‡∏≠

**Logic:**
```python
# ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Prob% ‡∏à‡∏≤‡∏Å historical matches
prob = (wins / total) * 100

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Prob >= threshold ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
if prob >= prob_threshold:
    # ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå ‚Üí ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì
else:
    # ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‚Üí NO-TRADE
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- Pattern "++-" ‡∏°‡∏µ historical matches 100 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡∏ä‡∏ô‡∏∞ 55 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á, ‡πÅ‡∏û‡πâ 45 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- Prob = (55 / 100) * 100 = 55%
- Prob Threshold = 55%
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** ‡∏ú‡πà‡∏≤‡∏ô (Prob 55% >= 55%)

**‡∏Ñ‡πà‡∏≤ Threshold ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®:**
- THAI: Prob >= 55%
- US: Prob >= 55%
- Taiwan: Prob >= 55%
- China/HK: Prob >= 50%

---

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### **Step 1: Pattern Matching (‡πÉ‡∏ä‡πâ Pattern Matching Threshold)**

```
‡∏£‡∏≤‡∏Ñ‡∏≤: [0.3%, -1.2%, 0.8%, -0.5%, 1.5%]
Threshold: 0.5%

‚Üí Pattern: [None, '-', '+', None, '+']
‚Üí Pattern String: "-+"
```

### **Step 2: ‡∏´‡∏≤ Historical Matches**

```
Pattern "-+" ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï 100 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:
- ‡∏ä‡∏ô‡∏∞: 55 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡πÅ‡∏û‡πâ: 45 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
```

### **Step 3: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Prob%**

```
Prob = (55 / 100) * 100 = 55%
```

### **Step 4: Gatekeeper (‡πÉ‡∏ä‡πâ Prob Threshold)**

```
Prob Threshold = 55%
Prob = 55%

‚Üí ‡∏ú‡πà‡∏≤‡∏ô (Prob 55% >= 55%)
‚Üí ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì BUY/SELL
```

---

## ‚ùì ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### **Q1: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Prob Threshold?**

**A:** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏á pattern ‡∏ó‡∏µ‡πà‡∏°‡∏µ Prob% ‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- Pattern A: Prob 60% ‚Üí ‡∏ú‡πà‡∏≤‡∏ô (Prob >= 55%)
- Pattern B: Prob 45% ‚Üí ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô (Prob < 55%)

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** Pattern ‡∏ó‡∏µ‡πà Prob ‡∏ï‡πà‡∏≥ = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á ‚Üí ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ó‡∏£‡∏î

---

### **Q2: Pattern Matching Threshold ‡∏Å‡∏±‡∏ö Prob Threshold ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?**

**A:** 
- **Pattern Matching Threshold:** ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö pattern (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô > 0.5% = '+')
- **Prob Threshold:** ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡πÄ‡∏ä‡πà‡∏ô Prob >= 55% = ‡∏ú‡πà‡∏≤‡∏ô)

**‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:**

| Aspect | Pattern Matching Threshold | Prob Threshold |
|--------|---------------------------|----------------|
| **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà** | ‡∏à‡∏±‡∏ö pattern ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ | ‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
| **‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠** | Extract pattern | Gatekeeper |
| **‡∏Ñ‡πà‡∏≤** | 0.5-0.7% (‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®) | 50-55% (‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®) |
| **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á** | ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô > 0.5% = '+' | Prob >= 55% = ‡∏ú‡πà‡∏≤‡∏ô |

---

### **Q3: ‡∏ó‡∏≥‡πÑ‡∏° Prob ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö threshold?**

**A:** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Prob% = Win Rate (‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ä‡∏ô‡∏∞)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- Prob 55% = ‡∏ä‡∏ô‡∏∞ 55% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- Prob Threshold 55% = ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ä‡∏ô‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 55%
- **‡∏ñ‡πâ‡∏≤ Prob < 55%** = ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ä‡∏ô‡∏∞‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 55% ‚Üí ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ó‡∏£‡∏î

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

### **Pattern Matching Threshold:**
- ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö pattern ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô +/- threshold ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏Ñ‡πà‡∏≤: 0.5-0.7% (‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)

### **Prob Threshold:**
- ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Prob% (Win Rate) >= threshold ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏Ñ‡πà‡∏≤: 50-55% (‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®)

### **Flow:**
1. Pattern Matching ‚Üí ‡∏à‡∏±‡∏ö pattern (‡πÉ‡∏ä‡πâ Pattern Matching Threshold)
2. ‡∏´‡∏≤ Historical Matches ‚Üí ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï
3. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Prob% ‚Üí (wins / total) * 100
4. Gatekeeper ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Prob >= Prob Threshold

---

## üîó Related Documents

- [BASIC_SYSTEM_ARCHITECTURE.md](BASIC_SYSTEM_ARCHITECTURE.md) - Architecture
- [BASIC_SYSTEM_THRESHOLD.md](BASIC_SYSTEM_THRESHOLD.md) - Threshold Logic

