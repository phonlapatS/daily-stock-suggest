# Thai Market ATR-based SL/TP Update - ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ AvgLoss% ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2026-02-13  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

---

## üìã ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

AvgLoss% ‡∏Ç‡∏≠‡∏á‡∏´‡∏∏‡πâ‡∏ô‡πÑ‡∏ó‡∏¢ lock ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà ~1.5% ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ä‡πâ Fixed SL/TP:
- **Fixed SL**: 1.5% (lock)
- **Fixed TP**: 3.5% (lock)
- **‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**: AvgLoss% ‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏° volatility ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏∏‡πâ‡∏ô

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Fixed SL/TP ‚Üí ATR-based SL/TP

**Before (Fixed):**
```python
RM_STOP_LOSS = 1.5       # Fixed 1.5%
RM_TAKE_PROFIT = 3.5     # Fixed 3.5%
RM_USE_ATR = False
```

**After (ATR-based):**
```python
RM_STOP_LOSS = None      # Use ATR instead of fixed SL
RM_TAKE_PROFIT = None    # Use ATR instead of fixed TP
RM_ATR_SL = 1.0          # ATR multiplier for SL
RM_ATR_TP = 3.5          # ATR multiplier for TP
RM_USE_ATR = True        # Enable ATR-based SL/TP
```

**Unchanged:**
- `RM_MAX_HOLD`: 5 days
- `RM_TRAIL_ACTIVATE`: 1.5%
- `RM_TRAIL_DISTANCE`: 50.0%

---

## üéØ Benefits

### 1. **Flexibility (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô)**
- ‚úÖ ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‚Üí SL ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (‡∏ï‡∏≤‡∏° ATR)
- ‚úÖ ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí SL ‡πÅ‡∏Ñ‡∏ö‡∏•‡∏á (‡∏ï‡∏≤‡∏° ATR)
- ‚úÖ AvgLoss% ‡πÑ‡∏°‡πà lock ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà 1.5% ‡πÅ‡∏•‡πâ‡∏ß

### 2. **Realistic (‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á)**
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏∏‡πâ‡∏ô (ATR)
- ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏° market conditions

### 3. **Auto System (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏á‡πà‡∏≤‡∏¢)**
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ fixed SL/TP ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏∏‡πâ‡∏ô
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SL/TP ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° ATR

---

## üìä How It Works

### ATR Calculation:
```
ATR = Average True Range (14 periods)
True Range = max(
    High - Low,
    |High - Previous Close|,
    |Low - Previous Close|
)
```

### SL/TP Calculation:
```
Actual SL% = (ATR √ó 1.0) / Entry Price √ó 100
Actual TP% = (ATR √ó 3.5) / Entry Price √ó 100

Capped at:
- Max SL: 7.0% (safety - updated from 5%)
- Max TP: 15.0% (safety - updated from 12%)
```

### Example:
```
‡∏´‡∏∏‡πâ‡∏ô A: ATR = 2%, Entry = 100
  ‚Üí SL = (2% √ó 1.0) = 2.0%
  ‚Üí TP = (2% √ó 3.5) = 7.0%
  ‚Üí RRR = 7.0% / 2.0% = 3.5

‡∏´‡∏∏‡πâ‡∏ô B: ATR = 1%, Entry = 100
  ‚Üí SL = (1% √ó 1.0) = 1.0%
  ‚Üí TP = (1% √ó 3.5) = 3.5%
  ‚Üí RRR = 3.5% / 1.0% = 3.5

‡∏´‡∏∏‡πâ‡∏ô C: ATR = 3%, Entry = 100
  ‚Üí SL = (3% √ó 1.0) = 3.0%
  ‚Üí TP = (3% √ó 3.5) = 10.5%
  ‚Üí RRR = 10.5% / 3.0% = 3.5
```

---

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### Before (Fixed):
- AvgLoss% lock ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà ~1.5%
- ‡∏ó‡∏∏‡∏Å‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏ä‡πâ SL/TP ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
- ‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏° volatility

### After (ATR-based):
- AvgLoss% ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô (1.0% - 7.0% ‡∏ï‡∏≤‡∏° ATR)
- ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‚Üí AvgLoss% ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
- ‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí AvgLoss% ‡∏ï‡πà‡∏≥‡∏•‡∏á
- ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô volatility ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏∏‡πâ‡∏ô

---

## üîç ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

1. **RRR Theoretical**: ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á 3.5 (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
   - ATR SL 1.0x √ó ATR TP 3.5x = RRR 3.5

2. **Max Hold**: ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á 5 days (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)

3. **Trailing Stop**: ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á 1.5%/50% (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)

4. **Cap**: ‡πÉ‡∏ä‡πâ cap 7% SL / 15% TP (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô ATR-based markets ‡∏≠‡∏∑‡πà‡∏ô‡πÜ)

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Fixed SL/TP ‚Üí ATR-based SL/TP
- ‚úÖ ‡πÉ‡∏ä‡πâ ATR SL 1.0x ‡πÅ‡∏•‡∏∞ ATR TP 3.5x
- ‚úÖ ‡πÄ‡∏Å‡πá‡∏ö Max Hold, Trailing ‡πÑ‡∏ß‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‚úÖ AvgLoss% ‡∏à‡∏∞‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô (‡πÑ‡∏°‡πà lock ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà 1.5%)
- ‚úÖ ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô volatility ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏∏‡πâ‡∏ô
- ‚úÖ ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏á‡πà‡∏≤‡∏¢ (auto system)

---

**Status:** ‚úÖ Complete - Thai market ‡πÉ‡∏ä‡πâ ATR-based SL/TP ‡πÅ‡∏•‡πâ‡∏ß

